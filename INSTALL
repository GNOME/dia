NOTE FOR WINDOWS USERS:
=======================

If you are reading this and just want to use Dia rather than
compiling/extending it, you are in the wrong place.  Please go to
http://dia-installer.sourceforge.net and download the precompiled, easily
installable binary.

Users of OSes where compilation is easy, please read on:)

REQUIREMENTS:
=============

See machine-specific requirements further down.

Dia needs Gtk+ at least version 2.16.0 installed.
It can be found at:

ftp://ftp.gtk.org/pub/gtk/

Binaries available at:
  ftp://ftp.gtk.org/pub/gtk/binary/devel/RPMS/
or
  ftp://ftp.gtk.org/pub/gtk/binary/devel/DEBIAN/

Note that Gtk 2.0 has a number of requirements of its own whose exact
versions depend on the version of Gtk.

Pango (required by Gtk) needs to be at least version 1.20.0.  It can be
found here:
  ftp://ftp.gtk.org/pub/pango/

As of version 0.91, Dia also needs libxml2, version 2.3.9 or higher.
It can be found here:
  ftp://ftp.gnome.org/pub/gnome/sources/libxml2/

As of version 0.91, Dia under Unix also needs freetype2, version 2.0.9 or
higher.  It can be found here:
  http://www.freetype.org

As of version 0.97, Dia requires intltool version 0.35 or higher.  It is
also required for Gtk.  It can be found here:
  ftp://ftp.gnome.org/pub/gnome/sources/intltool/

A full list of packages required for building Dia in the order in which
they should be installed.  Note that if the versions here are just the
minimum required by Dia, if you plan to use a newer GTK+, you will need a
newer GLib and ATK at the least.  When possible, use the newest stable
release. 

pkg-config
intltool 0.35
font-config 1.0.1
GLib 2.20.0 (already required by GTK+)
FreeType 2.0.9 (To compile without direct freetype use --without-freetype)
Pango 1.20.0 (already required by GTK+)
GTK+ 2.16.0 (GTK+ >=2.10 for using the new default print backend)
libxml 2.3.9

A number of other libraries are recommended for extra features:

Cairo is used for anti-alised rendering to screen or PNG as well as PDF:
  http://cairographics.org
  Minimum version required (if at all) is 1.6
Libart allows anti-aliased rendering and anti-aliased export to PNG:
  http://www.artofcode.com/libart.html
Libpng is need for libart based anti-aliased PNG export:
  http://download.sourceforge.net/libpng/
Libxslt allows export through XSLT translation schemas:
  ftp://ftp.gnome.org/pub/GNOME/sources/libxslt/
Extra Gnome support (limited) is available with installation of the gnome libs:
  ftp://ftp.gnome.org/pub/GNOME/sources/gnome-libs/
  Note that ./configure must be run with --enable-gnome to use Gnome.
Python scripting is possible by adding --with-python and having the
  following installed:
  Python: http://www.python.org
  PyGtk(optional): ftp://ftp.gtk.org/pub/gtk/python/v2.0

BUILDING:
=========

To build, run:

 ./configure
 make

PLATFORM NOTES:
===============

AFS
	The fact that you on AFS can make hard links within, but not
	between directories might cause problems due to a bug in
	libtool (at least som versions). 
	What happens is that messages like
		Waiting for arc.o.lock to be removed
	repeats themselves during compliation.

	A couple of work arounds are
	available: Run configure with the flag
	--disable-libtool-lock. This might break parallel builds
	though. Another (uglier) fix is to hack the libtool script
	generated by configure. Change the line:

          until ln "$0" "$lockfile" 2>/dev/null; do

	to

          until ln "$srcfile" "$lockfile" 2>/dev/null; do

Solaris
	The gettext that comes with Solaris does not define
	bind_textdomain_codeset.  Use the gettext and libiconv from
	ftp.gnu.org instead.

COMPILING FROM GIT:
===================

If you are using the Git version of Dia you need to have the following programs:
automake 1.4, autoconf 2.50, libtool 1.3, GNU gettext 0.10.38, intltool 0.21

Get it by: git clone git@git.gnome.org:GNOME/dia

Then run ./autogen.sh instead of configure to create all needed files.

You can then configure using
./configure --enable-maintainer-mode --enable-db2html
make

WARNING: if you run ./autogen.sh, you will need to have gettext
0.10.38 installed, or to extract a few M4 files from that package and
include them manually into aclocal.m4.

TRYING IT OUT:
==============

You can try out dia in the compilation directory by running
 ./app/run_dia.sh

INSTALL:
========
install it by doing:

 make install

By default Dia is installed in /usr/local.
You can change that by passing --prefix=/some/dir to configure.


